const jabberBtn=document.querySelector(".jabber"),tooltip=document.querySelector(".footer__tooltip");function horizontalLoop(e,t){e=gsap.utils.toArray(e),t=t||{};let r,o,a,n,s,i,p=gsap.timeline({repeat:t.repeat,paused:t.paused,defaults:{ease:"none"},onReverseComplete:()=>p.totalTime(p.rawTime()+100*p.duration())}),l=e.length,d=e[0].offsetLeft,c=[],u=[],g=[],b=0,f=100*(t.speed||1),m=!1===t.snap?e=>e:gsap.utils.snap(t.snap||1);for(gsap.set(e,{xPercent:(e,t)=>{let r=u[e]=parseFloat(gsap.getProperty(t,"width","px"));return g[e]=m(parseFloat(gsap.getProperty(t,"x","px"))/r*100+gsap.getProperty(t,"xPercent")),g[e]}}),gsap.set(e,{x:0}),r=e[l-1].offsetLeft+g[l-1]/100*u[l-1]-d+e[l-1].offsetWidth*gsap.getProperty(e[l-1],"scaleX")+(parseFloat(t.paddingRight)||0),i=0;i<l;i++)s=e[i],o=g[i]/100*u[i],a=s.offsetLeft+o-d,n=a+u[i]*gsap.getProperty(s,"scaleX"),p.to(s,{xPercent:m((o-n)/u[i]*100),duration:n/f},0).fromTo(s,{xPercent:m((o-n+r)/u[i]*100)},{xPercent:g[i],duration:(o-n+r-o)/f,immediateRender:!1},n/f).add("label"+i,a/f),c[i]=a/f;function w(e,t){t=t||{},Math.abs(e-b)>l/2&&(e+=e>b?-l:l);let r=gsap.utils.wrap(0,l,e),o=c[r];return o>p.time()!=e>b&&(t.modifiers={time:gsap.utils.wrap(0,p.duration())},o+=p.duration()*(e>b?1:-1)),b=r,t.overwrite=!0,p.tweenTo(o,t)}return p.next=e=>w(b+1,e),p.previous=e=>w(b-1,e),p.current=()=>b,p.toIndex=(e,t)=>w(e,t),p.times=c,p.progress(1,!0).progress(0,!0),t.reversed&&(p.vars.onReverseComplete(),p.reverse()),p}function updateList(){let e=document.querySelector(".technology__list"),t=document.querySelectorAll(".technology__item"),r=t[0].cloneNode(!0);r.style.marginRight=window.getComputedStyle(t[0]).marginRight,e.appendChild(r),gsap.set(r,{xPercent:0})}jabberBtn.addEventListener("click",(function(){if(!jabberBtn.disabled){const e=jabberBtn.textContent;jabberBtn.disabled=!0,navigator.clipboard.writeText(e).then((()=>{tooltip.classList.add("visible"),setTimeout((()=>{tooltip.classList.remove("visible"),jabberBtn.disabled=!1}),2e3),jabberBtn.blur()})).catch((e=>{console.error("Error when copying contact:",e),jabberBtn.disabled=!1}))}})),new Swiper(".portfolio__swiper",{centeredSlides:!0,initialSlide:2,slidesPerView:"auto",freeMode:!0,spaceBetween:8,breakpoints:{610:{spaceBetween:15},530:{spaceBetween:10}}}),horizontalLoop(".technology__item",{repeat:-1,paused:!1}),window.addEventListener("scroll",(function(){window.pageYOffset>(itemCount-1)*listWidth&&updateList()}));